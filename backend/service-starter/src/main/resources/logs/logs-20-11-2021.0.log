20-11-2021 00:34:46 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h30m32s232ms711µs499ns).
20-11-2021 19:12:06 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18h37m27s88ms691µs201ns).
20-11-2021 19:16:01 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:16:01 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 12728 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:16:01 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:16:05 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:16:06 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 366 ms. Found 9 JPA repository interfaces.
20-11-2021 19:16:08 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:16:08 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:16:08 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:16:08 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:16:09 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:16:09 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7540 ms
20-11-2021 19:16:09 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:16:09 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:16:10 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:16:10 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:16:12 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:16:12 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:16:12 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:16:12 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:16:13 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:16:13 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:16:16 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:16:16 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:16:18 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:16:19 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:16:20 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1acf7db2, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e44825e, org.springframework.security.web.header.HeaderWriterFilter@303d2485, org.springframework.web.filter.CorsFilter@252da8f, org.springframework.security.web.authentication.logout.LogoutFilter@3c41b4b, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@26fee641, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@274de4bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a9a0d9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a973b5e, org.springframework.security.web.session.SessionManagementFilter@6f3d33bc, org.springframework.security.web.access.ExceptionTranslationFilter@3ad9f06a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d8319a7]
20-11-2021 19:16:21 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:16:21 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
20-11-2021 19:16:21 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:16:21 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
20-11-2021 19:16:21 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
20-11-2021 19:16:21 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:16:21 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
20-11-2021 19:16:21 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
20-11-2021 19:16:21 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
20-11-2021 19:16:21 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
20-11-2021 19:16:21 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 129 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository finished method: findByAccount in 7 ms and returned: ArrayList with size of: 1
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService finished method: loadUserByUsername in 153 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@43b7a41a
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseService invoked method: find with args: {key=arturro}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService invoked method: find with args: {key=arturro}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService finished method: find in 18 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseService finished method: find in 21 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepositoryService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 6 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository finished method: findByAccount in 2 ms and returned: ArrayList with size of: 1
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepositoryService finished method: findByAccount in 9 ms and returned: ArrayList with size of: 1
20-11-2021 19:17:45 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelService finished method: findByAccount in 10 ms and returned: ArrayList with size of: 1
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 10 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository finished method: findByAccount in 47 ms and returned: ArrayList with size of: 1
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService finished method: loadUserByUsername in 59 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@6d25ce5
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService finished method: findAll in 72 ms and returned: ArrayList with size of: 0
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService finished method: findAll in 85 ms and returned: ArrayList with size of: 0
20-11-2021 19:18:06 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController finished method: getDiets in 95 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 0
20-11-2021 19:18:57 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:18:57 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 8888 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:18:57 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:19:01 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:19:01 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 212 ms. Found 9 JPA repository interfaces.
20-11-2021 19:19:02 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:19:02 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:02 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:19:02 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:19:03 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:19:03 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5076 ms
20-11-2021 19:19:03 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:19:03 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:19:03 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:19:04 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:19:04 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:19:05 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:19:05 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:19:05 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:19:05 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:19:05 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:19:06 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:19:06 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:19:07 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:19:08 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:19:09 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fcf3192, org.springframework.security.web.context.SecurityContextPersistenceFilter@8b814b, org.springframework.security.web.header.HeaderWriterFilter@72cb5d7d, org.springframework.web.filter.CorsFilter@40cb19d5, org.springframework.security.web.authentication.logout.LogoutFilter@6a7a8e1e, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@2806fe58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@666033b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2531049f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71d92487, org.springframework.security.web.session.SessionManagementFilter@2c2f4769, org.springframework.security.web.access.ExceptionTranslationFilter@2acb6c9a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a8fa30a]
20-11-2021 19:19:09 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:09 WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
20-11-2021 19:19:09 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:19:09 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
20-11-2021 19:19:09 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
20-11-2021 19:19:09 INFO org.apache.coyote.http11.Http11NioProtocol [main] Pausing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:09 INFO org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
20-11-2021 19:19:09 INFO org.apache.coyote.http11.Http11NioProtocol [main] Stopping ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:09 INFO org.apache.coyote.http11.Http11NioProtocol [main] Destroying ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:09 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
20-11-2021 19:19:09 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

20-11-2021 19:19:16 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:19:16 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:19:16 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:19:22 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:19:22 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 12868 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:19:22 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:19:23 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:19:23 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 227 ms. Found 9 JPA repository interfaces.
20-11-2021 19:19:24 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:19:24 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:24 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:19:24 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:19:25 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:19:25 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2787 ms
20-11-2021 19:19:25 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:19:25 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:19:25 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:19:26 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:19:26 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:19:26 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:19:27 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:19:27 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:19:27 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:19:27 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:19:28 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:19:28 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:19:29 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:19:30 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:19:31 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1acf7db2, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e44825e, org.springframework.security.web.header.HeaderWriterFilter@303d2485, org.springframework.web.filter.CorsFilter@252da8f, org.springframework.security.web.authentication.logout.LogoutFilter@3c41b4b, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@2806fe58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@274de4bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a9a0d9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a973b5e, org.springframework.security.web.session.SessionManagementFilter@6f3d33bc, org.springframework.security.web.access.ExceptionTranslationFilter@3ad9f06a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d8319a7]
20-11-2021 19:19:31 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:19:31 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:19:31 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:19:31 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:19:31 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:19:31 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:19:31 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:19:32 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:19:32 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 10.505 seconds (JVM running for 12.897)
20-11-2021 19:19:37 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:19:37 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:19:37 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
20-11-2021 19:19:37 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:19:37 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:19:38 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository finished method: findByBusinessId in 256 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:19:38 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:19:38 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccessLevelRepository finished method: findByAccount in 30 ms and returned: ArrayList with size of: 1
20-11-2021 19:19:38 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccountRepositoryService finished method: loadUserByUsername in 324 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@7c2a36e0
20-11-2021 19:19:38 WARN org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [http-nio-8080-exec-2] Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `pl.lodz.p.it.restapi.dto.DietRequestPost$DietTypeEnum`, problem: Unexpected value 'string'; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `pl.lodz.p.it.restapi.dto.DietRequestPost$DietTypeEnum`, problem: Unexpected value 'string'
 at [Source: (PushbackInputStream); line: 3, column: 15] (through reference chain: pl.lodz.p.it.restapi.dto.DietRequestPost["dietType"])]
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 6 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository finished method: findByAccount in 4 ms and returned: ArrayList with size of: 1
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService finished method: loadUserByUsername in 10 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@42dd03c6
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class DietRepository finished method: instantiate in 3 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:20:21 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional.empty
20-11-2021 19:20:21 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:20:21 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:20:21 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:20:21 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository finished method: findByAccount in 4 ms and returned: ArrayList with size of: 1
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService finished method: loadUserByUsername in 8 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@550cf137
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepositoryService finished method: findAll in 18 ms and returned: ArrayList with size of: 0
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseService finished method: findAll in 20 ms and returned: ArrayList with size of: 0
20-11-2021 19:20:34 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietController finished method: getDiets in 22 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 0
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository finished method: findByAccount in 5 ms and returned: ArrayList with size of: 1
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService finished method: loadUserByUsername in 10 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@48c2478e
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService finished method: findAll in 0 ms and returned: ArrayList with size of: 0
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService finished method: findAll in 1 ms and returned: ArrayList with size of: 0
20-11-2021 19:20:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController finished method: getDiets in 1 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 0
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class BaseRepository finished method: findByBusinessId in 4 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class AccessLevelRepository finished method: findByAccount in 5 ms and returned: ArrayList with size of: 1
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class AccountRepositoryService finished method: loadUserByUsername in 11 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@4c088072
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class DietRepository finished method: instantiate in 0 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:21:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] Class BaseRepository finished method: findByBusinessId in 0 ms and returned: Optional.empty
20-11-2021 19:21:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:21:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:21:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:21:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-9] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class BaseRepository finished method: findByBusinessId in 11 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class AccessLevelRepository finished method: findByAccount in 7 ms and returned: ArrayList with size of: 1
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class AccountRepositoryService finished method: loadUserByUsername in 20 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@18243d52
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class DietRepository finished method: instantiate in 0 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:22:01 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] Class BaseRepository finished method: findByBusinessId in 1 ms and returned: Optional.empty
20-11-2021 19:22:01 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:22:01 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:22:01 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:22:01 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-10] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 4 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 4 ms and returned: ArrayList with size of: 1
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 11 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@1b3ca73
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:22:05 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 0 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:24:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:24:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional.empty
20-11-2021 19:24:55 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 19:24:55 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 1 ms and returned: Optional[DietTypeEntity()]
20-11-2021 19:25:00 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:25:00 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m4s191ms737µs300ns).
20-11-2021 19:25:00 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional.empty
20-11-2021 19:25:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:25:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:25:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:25:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccessLevelRepository finished method: findByAccount in 2 ms and returned: ArrayList with size of: 1
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccountRepositoryService finished method: loadUserByUsername in 7 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@156b4859
20-11-2021 19:25:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:26:43 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:26:43 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m13s474ms854µs300ns).
20-11-2021 19:26:43 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:26:43 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:26:43 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietRepository finished method: instantiate in 1 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:26:43 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 19:26:43 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 19:26:44 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:26:44 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional.empty
20-11-2021 19:26:44 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:26:44 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:26:44 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:26:44 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:29:37 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:29:37 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:29:37 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:29:51 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:29:51 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 31312 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:29:51 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:29:52 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:29:52 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 200 ms. Found 9 JPA repository interfaces.
20-11-2021 19:29:54 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:29:54 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:29:54 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:29:54 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:29:54 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:29:54 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2988 ms
20-11-2021 19:29:54 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:29:54 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:29:55 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:29:55 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:29:56 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:29:56 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:29:56 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:29:56 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:29:56 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:29:56 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:29:58 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:29:58 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:29:59 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:30:00 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:30:00 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@383b3357, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c226db0, org.springframework.security.web.header.HeaderWriterFilter@b88d294, org.springframework.web.filter.CorsFilter@316a682b, org.springframework.security.web.authentication.logout.LogoutFilter@7bbc3b6e, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@1caa1866, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@581661d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6717f504, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21584b99, org.springframework.security.web.session.SessionManagementFilter@50cfe725, org.springframework.security.web.access.ExceptionTranslationFilter@312af870, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e5c04a4]
20-11-2021 19:30:01 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:30:01 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:30:01 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:30:01 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:30:01 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:30:01 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:30:01 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:30:01 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:30:01 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 10.897 seconds (JVM running for 13.136)
20-11-2021 19:30:09 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:30:09 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:30:09 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
20-11-2021 19:30:09 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:30:09 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:30:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository finished method: findByBusinessId in 278 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:30:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:30:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccessLevelRepository finished method: findByAccount in 26 ms and returned: ArrayList with size of: 1
20-11-2021 19:30:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class AccountRepositoryService finished method: loadUserByUsername in 343 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@6f22d4c7
20-11-2021 19:30:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:30:59 WARN com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m4s260ms355µs900ns).
20-11-2021 19:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW_CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class DietRepository finished method: instantiate in 4 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW_CALORIE}
20-11-2021 19:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] Class BaseRepository finished method: findByBusinessId in 4 ms and returned: Optional.empty
20-11-2021 19:30:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:30:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:30:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:30:59 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-2] DietTypeException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:41) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet type not found!
20-11-2021 19:31:00 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:31:00 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:31:00 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:33:46 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:33:46 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 14872 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:33:46 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:33:48 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:33:49 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 299 ms. Found 9 JPA repository interfaces.
20-11-2021 19:33:50 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:33:50 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:33:50 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:33:50 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:33:50 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:33:50 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3803 ms
20-11-2021 19:33:51 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:33:51 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:33:51 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:33:51 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:33:53 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:33:53 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:33:53 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:33:53 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:33:53 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:33:53 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:33:55 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:33:55 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:33:56 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:33:58 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:33:58 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bd5cb99, org.springframework.security.web.context.SecurityContextPersistenceFilter@d3effcb, org.springframework.security.web.header.HeaderWriterFilter@3299cc9f, org.springframework.web.filter.CorsFilter@11c95035, org.springframework.security.web.authentication.logout.LogoutFilter@50fbb66a, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@4f74edbf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f8e6101, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d461450, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64dd94ed, org.springframework.security.web.session.SessionManagementFilter@38e1442a, org.springframework.security.web.access.ExceptionTranslationFilter@2c2f4769, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17f43f4a]
20-11-2021 19:33:59 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:33:59 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:33:59 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:33:59 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:33:59 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:34:00 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:34:00 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:34:00 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:34:00 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 14.3 seconds (JVM running for 19.004)
20-11-2021 19:34:07 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:34:07 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:34:07 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
20-11-2021 19:34:07 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
pl.lodz.p.it.core.shared.exception.SecurityException: pl.lodz.p.it.core.shared.exception.core.ExpiredException: JWT token expired!
	at pl.lodz.p.it.core.shared.exception.SecurityException.jwtExpiredException(SecurityException.java:16)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: pl.lodz.p.it.core.shared.exception.core.ExpiredException: JWT token expired!
	at pl.lodz.p.it.core.shared.exception.core.ExpiredException.expired(ExpiredException.java:13)
	... 54 common frames omitted
20-11-2021 19:34:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:34:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:34:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 326 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:34:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:34:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository finished method: findByAccount in 15 ms and returned: ArrayList with size of: 1
20-11-2021 19:34:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService finished method: loadUserByUsername in 393 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@411281c3
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseService invoked method: find with args: {key=arturro}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService invoked method: find with args: {key=arturro}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService finished method: find in 4 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseService finished method: find in 56 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepositoryService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository finished method: findByAccount in 1 ms and returned: ArrayList with size of: 1
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepositoryService finished method: findByAccount in 10 ms and returned: ArrayList with size of: 1
20-11-2021 19:34:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelService finished method: findByAccount in 17 ms and returned: ArrayList with size of: 1
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository finished method: findByAccount in 19 ms and returned: ArrayList with size of: 1
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService finished method: loadUserByUsername in 25 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@916f106
20-11-2021 19:34:14 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:34:25 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:34:25 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:34:25 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:34:25 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietRepository finished method: instantiate in 3 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:34:25 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 19:34:25 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 4 ms and returned: Optional[DietTypeEntity()]
20-11-2021 19:34:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 19:34:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 19:34:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 19:34:30 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class CrudRepository finished method: save in 39 ms and returned: BaseEntity(id=1, businessId=DIE001, version=0, creationDate=2021-11-20T19:34:30.319111800+01:00, modificationDate=2021-11-20T19:34:30.319111800+01:00)
20-11-2021 19:34:30 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:18) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:34:30 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:18) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:34:30 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:18) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:34:30 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:18) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 7 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository finished method: findByAccount in 5 ms and returned: ArrayList with size of: 1
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService finished method: loadUserByUsername in 14 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@53330c3c
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService finished method: findAll in 6 ms and returned: ArrayList with size of: 1
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService finished method: findAll in 6 ms and returned: ArrayList with size of: 1
20-11-2021 19:35:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController finished method: getDiets in 10 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 1
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepository finished method: findByBusinessId in 6 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccessLevelRepository finished method: findByAccount in 4 ms and returned: ArrayList with size of: 1
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccountRepositoryService finished method: loadUserByUsername in 11 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@4b38b9e7
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class DietController invoked method: deleteDiet with args: {number=DIE001}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseService invoked method: delete with args: {key=DIE001}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class DietRepositoryService invoked method: delete with args: {key=DIE001}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepository invoked method: findByBusinessId with args: {businessId=DIE001}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[BaseEntity(id=1, businessId=DIE001, version=0, creationDate=2021-11-20T19:34:30.319112+01:00, modificationDate=2021-11-20T19:34:30.319112+01:00)]
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class CrudRepository invoked method: delete with args: {arg0=BaseEntity(id=1, businessId=DIE001, version=0, creationDate=2021-11-20T19:34:30.319112+01:00, modificationDate=2021-11-20T19:34:30.319112+01:00)}
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class CrudRepository finished method: delete in 21 ms
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class DietRepositoryService finished method: delete in 29 ms
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseService finished method: delete in 30 ms
20-11-2021 19:35:49 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class DietController finished method: deleteDiet in 30 ms <200 OK OK,[]>
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class AccessLevelRepository finished method: findByAccount in 3 ms and returned: ArrayList with size of: 1
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class AccountRepositoryService finished method: loadUserByUsername in 8 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@21162c1a
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class DietController invoked method: deleteDiet with args: {number=DIE001}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class BaseService invoked method: delete with args: {key=DIE001}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class DietRepositoryService invoked method: delete with args: {key=DIE001}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class BaseRepository invoked method: findByBusinessId with args: {businessId=DIE001}
20-11-2021 19:35:51 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional.empty
20-11-2021 19:35:51 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.delete(DietRepositoryService.java:64) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet not found!
20-11-2021 19:35:51 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.delete(DietRepositoryService.java:64) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet not found!
20-11-2021 19:35:51 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.delete(DietRepositoryService.java:64) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet not found!
20-11-2021 19:35:51 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-8] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.delete(DietRepositoryService.java:64) with message: pl.lodz.p.it.core.shared.exception.core.NotFoundException: Required diet not found!
20-11-2021 19:37:25 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:37:25 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:37:25 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:37:35 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:37:35 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 22536 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:37:35 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:37:37 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:37:37 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 259 ms. Found 9 JPA repository interfaces.
20-11-2021 19:37:39 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:37:39 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:37:39 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:37:39 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:37:39 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:37:39 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3549 ms
20-11-2021 19:37:39 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:37:39 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:37:40 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:37:40 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:37:41 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:37:41 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:37:41 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:37:41 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:37:41 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:37:41 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:37:43 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:37:43 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:37:44 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:37:46 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:37:46 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8a0447e, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ae648d2, org.springframework.security.web.header.HeaderWriterFilter@2531049f, org.springframework.web.filter.CorsFilter@2505480a, org.springframework.security.web.authentication.logout.LogoutFilter@208bde64, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@32fb4a87, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cad2d5f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11b5b1f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@602854ed, org.springframework.security.web.session.SessionManagementFilter@561f982f, org.springframework.security.web.access.ExceptionTranslationFilter@7bbc3b6e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e8cf854]
20-11-2021 19:37:47 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:37:47 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:37:47 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:37:47 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:37:47 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:37:47 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:37:47 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:37:47 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:37:47 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 13.129 seconds (JVM running for 15.983)
20-11-2021 19:37:49 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:37:49 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:37:49 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 2 ms
20-11-2021 19:37:49 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$9406fd77.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:42:35 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$9406fd77.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:42:37 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$9406fd77.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:43:32 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$9406fd77.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:45:48 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:45:48 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:45:48 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:45:59 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:45:59 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 17476 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:45:59 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:46:01 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:46:02 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 799 ms. Found 9 JPA repository interfaces.
20-11-2021 19:46:05 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:46:05 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:46:05 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:46:05 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:46:05 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:46:05 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6603 ms
20-11-2021 19:46:06 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:46:07 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:46:07 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:46:07 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:46:08 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:46:09 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:46:09 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:46:09 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:46:09 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:46:10 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:46:12 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:46:12 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:46:14 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:46:16 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:46:16 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb6a77f, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dd11699, org.springframework.security.web.header.HeaderWriterFilter@559d9517, org.springframework.web.filter.CorsFilter@1b1d2d7b, org.springframework.security.web.authentication.logout.LogoutFilter@12bb3666, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@149e457, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50fbb66a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c5a7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c9fa12, org.springframework.security.web.session.SessionManagementFilter@5066a895, org.springframework.security.web.access.ExceptionTranslationFilter@601c953c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e791e53]
20-11-2021 19:46:17 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:46:17 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:46:17 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:46:17 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:46:17 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:46:18 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:46:18 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:46:18 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:46:18 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 19.893 seconds (JVM running for 23.239)
20-11-2021 19:46:26 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:46:26 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:46:26 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 5 ms
20-11-2021 19:46:26 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$e66d489d.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:46:42 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-4] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$e66d489d.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:46:42 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$e66d489d.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:48:32 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:48:32 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:48:32 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:48:43 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:48:43 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 24964 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:48:43 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:48:45 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:48:45 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 310 ms. Found 9 JPA repository interfaces.
20-11-2021 19:48:47 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:48:47 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:48:47 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:48:47 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:48:47 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:48:47 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4093 ms
20-11-2021 19:48:47 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:48:48 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:48:48 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:48:48 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:48:49 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:48:50 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:48:50 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:48:50 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:48:50 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:48:50 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:48:52 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:48:52 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:48:53 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:48:55 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:48:55 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13453610, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a7a8e1e, org.springframework.security.web.header.HeaderWriterFilter@4f8e6101, org.springframework.web.filter.CorsFilter@62fee9c3, org.springframework.security.web.authentication.logout.LogoutFilter@62a193e0, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@20305c45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54950027, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@466fb9be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64f3f849, org.springframework.security.web.session.SessionManagementFilter@339b9869, org.springframework.security.web.access.ExceptionTranslationFilter@4a9a0d9d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@534f4a65]
20-11-2021 19:48:56 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:48:56 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:48:56 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:48:56 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:48:56 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:48:56 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:48:56 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:48:56 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:48:57 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 15.015 seconds (JVM running for 18.622)
20-11-2021 19:48:59 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:48:59 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:48:59 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-2] Completed initialization in 2 ms
20-11-2021 19:48:59 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation 'mandatory'
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.AccountRepositoryService$$EnhancerBySpringCGLIB$$1d839209.loadUserByUsername(<generated>)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:44)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 19:50:56 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:50:56 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:50:56 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:51:07 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:51:07 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 23304 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:51:07 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:51:09 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:51:09 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 269 ms. Found 9 JPA repository interfaces.
20-11-2021 19:51:10 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:51:10 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:51:10 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:51:10 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:51:11 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:51:11 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3627 ms
20-11-2021 19:51:11 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:51:11 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:51:12 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:51:12 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:51:13 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:51:14 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:51:14 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:51:14 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:51:14 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:51:14 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:51:16 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:51:16 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:51:18 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:51:20 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:51:20 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb6a77f, org.springframework.security.web.context.SecurityContextPersistenceFilter@4dd11699, org.springframework.security.web.header.HeaderWriterFilter@559d9517, org.springframework.web.filter.CorsFilter@1b1d2d7b, org.springframework.security.web.authentication.logout.LogoutFilter@12bb3666, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@4f74edbf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50fbb66a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c5a7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c9fa12, org.springframework.security.web.session.SessionManagementFilter@5066a895, org.springframework.security.web.access.ExceptionTranslationFilter@601c953c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e791e53]
20-11-2021 19:51:21 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:51:21 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:51:21 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:51:21 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:51:21 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:51:21 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:51:21 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:51:21 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:51:22 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 15.752 seconds (JVM running for 18.623)
20-11-2021 19:51:24 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:51:24 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:51:24 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
20-11-2021 19:51:24 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
pl.lodz.p.it.core.shared.exception.SecurityException: pl.lodz.p.it.core.shared.exception.core.ExpiredException: JWT token expired!
	at pl.lodz.p.it.core.shared.exception.SecurityException.jwtExpiredException(SecurityException.java:16)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: pl.lodz.p.it.core.shared.exception.core.ExpiredException: JWT token expired!
	at pl.lodz.p.it.core.shared.exception.core.ExpiredException.expired(ExpiredException.java:13)
	... 54 common frames omitted
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 243 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository finished method: findByAccount in 24 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService finished method: loadUserByUsername in 302 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@d562d64
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseService invoked method: find with args: {key=arturro}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService invoked method: find with args: {key=arturro}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 14 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccountRepositoryService finished method: find in 18 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseService finished method: find in 51 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepositoryService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepository finished method: findByAccount in 1 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelRepositoryService finished method: findByAccount in 12 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:32 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-4] Class AccessLevelService finished method: findByAccount in 16 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccessLevelRepository finished method: findByAccount in 4 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class AccountRepositoryService finished method: loadUserByUsername in 11 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@5f6ec03d
20-11-2021 19:51:35 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:51:38 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class DietRepository finished method: instantiate in 4 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[DietTypeEntity()]
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 19:51:41 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] Class CrudRepository finished method: save in 36 ms and returned: BaseEntity(id=2, businessId=DIE001, version=0, creationDate=2021-11-20T19:51:41.705293400+01:00, modificationDate=2021-11-20T19:51:41.705293400+01:00)
20-11-2021 19:51:41 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:51:41 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:51:41 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:51:41 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-5] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository finished method: findByAccount in 2 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService finished method: loadUserByUsername in 8 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@429e59e8
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepositoryService finished method: findAll in 8 ms and returned: ArrayList with size of: 0
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService finished method: findAll in 9 ms and returned: ArrayList with size of: 0
20-11-2021 19:51:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController finished method: getDiets in 10 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 0
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccessLevelRepository finished method: findByAccount in 5 ms and returned: ArrayList with size of: 1
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class AccountRepositoryService finished method: loadUserByUsername in 12 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@549b2198
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseRepositoryService finished method: findAll in 1 ms and returned: ArrayList with size of: 0
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class BaseService finished method: findAll in 1 ms and returned: ArrayList with size of: 0
20-11-2021 19:51:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-7] Class DietController finished method: getDiets in 1 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 0
20-11-2021 19:53:47 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:53:47 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 19:53:47 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 19:53:58 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 19:53:58 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 29300 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 19:53:58 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 19:54:00 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 19:54:01 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 288 ms. Found 9 JPA repository interfaces.
20-11-2021 19:54:02 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 19:54:02 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 19:54:02 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 19:54:02 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 19:54:02 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 19:54:02 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3729 ms
20-11-2021 19:54:03 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 19:54:03 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 19:54:03 INFO liquibase.database [main] Set default schema name to public
20-11-2021 19:54:03 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 19:54:04 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 19:54:05 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 19:54:05 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 19:54:05 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 19:54:05 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 19:54:05 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 19:54:07 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 19:54:07 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 19:54:08 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 19:54:09 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 19:54:10 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@549fc0b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@54950027, org.springframework.security.web.header.HeaderWriterFilter@75ee63f2, org.springframework.web.filter.CorsFilter@4f091800, org.springframework.security.web.authentication.logout.LogoutFilter@461e9b31, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@1bb21ec1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@282c3aa0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e50ca51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d8d926f, org.springframework.security.web.session.SessionManagementFilter@3d805670, org.springframework.security.web.access.ExceptionTranslationFilter@3ed79f41, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62fee9c3]
20-11-2021 19:54:10 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 19:54:10 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 19:54:10 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 19:54:10 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 19:54:10 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 19:54:11 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 19:54:11 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 19:54:11 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 19:54:11 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 13.392 seconds (JVM running for 17.193)
20-11-2021 19:54:15 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 19:54:15 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 19:54:15 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 234 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 18 ms and returned: ArrayList with size of: 1
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 295 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@499912e5
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController invoked method: getDiets with args: {}
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: findAll with args: {}
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepositoryService invoked method: findAll with args: {}
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepositoryService finished method: findAll in 14 ms and returned: ArrayList with size of: 0
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService finished method: findAll in 23 ms and returned: ArrayList with size of: 0
20-11-2021 19:54:15 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController finished method: getDiets in 30 ms ResponseEntity with HTTP status code: OK and body containing: ArrayList with size of: 0
20-11-2021 19:54:19 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 19:54:19 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 19:54:19 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 19:54:19 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 19:54:19 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccessLevelRepository finished method: findByAccount in 4 ms and returned: ArrayList with size of: 1
20-11-2021 19:54:19 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccountRepositoryService finished method: loadUserByUsername in 10 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@48f84f9
20-11-2021 19:54:20 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietRepository finished method: instantiate in 2 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository finished method: findByBusinessId in 16 ms and returned: Optional[DietTypeEntity()]
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 19:54:24 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class CrudRepository finished method: save in 106 ms and returned: BaseEntity(id=3, businessId=DIE001, version=0, creationDate=2021-11-20T19:54:24.365077300+01:00, modificationDate=2021-11-20T19:54:24.365077300+01:00)
20-11-2021 19:54:24 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:54:24 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:54:24 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 19:54:24 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:20) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:28:05 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:28:05 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 20:28:05 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 20:28:35 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 20:28:35 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 28792 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 20:28:35 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 20:28:38 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 20:28:38 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 360 ms. Found 9 JPA repository interfaces.
20-11-2021 20:28:40 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 20:28:40 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 20:28:40 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 20:28:40 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 20:28:40 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 20:28:40 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5044 ms
20-11-2021 20:28:41 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 20:28:41 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 20:28:41 INFO liquibase.database [main] Set default schema name to public
20-11-2021 20:28:41 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 20:28:43 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 20:28:43 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 20:28:43 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 20:28:43 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 20:28:43 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 20:28:44 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 20:28:45 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 20:28:45 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:28:47 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 20:28:49 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 20:28:49 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b2c513e, org.springframework.security.web.context.SecurityContextPersistenceFilter@232e4e1d, org.springframework.security.web.header.HeaderWriterFilter@66c58c03, org.springframework.web.filter.CorsFilter@4098ef14, org.springframework.security.web.authentication.logout.LogoutFilter@1243ad9a, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@6979e9b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@543895d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7cb4fc46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b74a062, org.springframework.security.web.session.SessionManagementFilter@32e0b990, org.springframework.security.web.access.ExceptionTranslationFilter@7acb8e6b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b6f7ab3]
20-11-2021 20:28:50 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 20:28:50 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 20:28:50 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 20:28:50 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 20:28:50 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 20:28:50 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 20:28:50 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 20:28:50 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 20:28:50 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 17.013 seconds (JVM running for 21.199)
20-11-2021 20:28:53 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 20:28:53 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 20:28:53 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 5 ms
20-11-2021 20:28:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:28:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 644 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 25 ms and returned: ArrayList with size of: 1
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 754 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@2f29069a
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: find with args: {key=arturro}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: find with args: {key=arturro}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 25 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: find in 27 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService finished method: find in 94 ms and returned: Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepositoryService invoked method: findByAccount with args: {account=Account(login=arturro, email=art.daj@wp.pl, password=$2a$10$ScBTqQ89yQk62NHnoEanLO.ApN6nz0SrIBhWKWoo7orDXfbHd4LaW, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 7 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 0 ms and returned: ArrayList with size of: 1
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepositoryService finished method: findByAccount in 16 ms and returned: ArrayList with size of: 1
20-11-2021 20:28:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelService finished method: findByAccount in 23 ms and returned: ArrayList with size of: 1
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository finished method: findByBusinessId in 4 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccessLevelRepository finished method: findByAccount in 6 ms and returned: ArrayList with size of: 1
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class AccountRepositoryService finished method: loadUserByUsername in 12 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@88f1bcc
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class DietRepository finished method: instantiate in 4 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:28:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] Class CrudRepository finished method: save in 38 ms and returned: BaseEntity(id=4, businessId=DIE001, version=0, creationDate=2021-11-20T20:28:58.264485500+01:00, modificationDate=2021-11-20T20:28:58.264485500+01:00)
20-11-2021 20:28:58 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:28:58 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:28:58 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:28:58 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-3] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 5 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccessLevelRepository finished method: findByAccount in 6 ms and returned: ArrayList with size of: 1
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class AccountRepositoryService finished method: loadUserByUsername in 11 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@5524cd12
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class DietRepository finished method: instantiate in 0 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:30:58 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:30:59 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:31:00 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:31:00 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] Class CrudRepository finished method: save in 3 ms and returned: BaseEntity(id=5, businessId=DIE001, version=0, creationDate=2021-11-20T20:31:00.437086200+01:00, modificationDate=2021-11-20T20:31:00.437086200+01:00)
20-11-2021 20:31:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:00 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-6] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:17 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:31:17 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 20:31:17 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 20:31:26 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 20:31:26 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 14036 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 20:31:26 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 20:31:27 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 20:31:27 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 213 ms. Found 9 JPA repository interfaces.
20-11-2021 20:31:29 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 20:31:29 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 20:31:29 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 20:31:29 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 20:31:29 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 20:31:29 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2890 ms
20-11-2021 20:31:29 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 20:31:29 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 20:31:30 INFO liquibase.database [main] Set default schema name to public
20-11-2021 20:31:30 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 20:31:31 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 20:31:31 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 20:31:31 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 20:31:31 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 20:31:32 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 20:31:32 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 20:31:35 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 20:31:35 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:31:36 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 20:31:38 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 20:31:38 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5da13494, org.springframework.security.web.context.SecurityContextPersistenceFilter@4f2ab774, org.springframework.security.web.header.HeaderWriterFilter@ef09e1, org.springframework.web.filter.CorsFilter@67d90687, org.springframework.security.web.authentication.logout.LogoutFilter@6bbd645, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@333cedbd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39fbee74, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@743a9292, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d260659, org.springframework.security.web.session.SessionManagementFilter@7d2dfe9c, org.springframework.security.web.access.ExceptionTranslationFilter@219a9b16, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@678f685f]
20-11-2021 20:31:39 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 20:31:39 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 20:31:39 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 20:31:39 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 20:31:39 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 20:31:39 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 20:31:39 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 20:31:39 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 20:31:39 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 14.298 seconds (JVM running for 16.859)
20-11-2021 20:31:45 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 20:31:45 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 20:31:45 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 3 ms
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 276 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 23 ms and returned: ArrayList with size of: 1
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 345 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@2152f4eb
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 6 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 8 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:31:46 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:31:48 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:31:48 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository finished method: save in 61 ms and returned: BaseEntity(id=6, businessId=DIE001, version=0, creationDate=2021-11-20T20:31:48.896755400+01:00, modificationDate=2021-11-20T20:31:48.896755400+01:00)
20-11-2021 20:31:48 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:48 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:48 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:31:48 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:33:23 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:33:23 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 20:33:23 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 20:33:33 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 20:33:33 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 6220 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 20:33:33 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 20:33:36 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 20:33:37 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 384 ms. Found 9 JPA repository interfaces.
20-11-2021 20:33:39 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 20:33:39 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 20:33:39 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 20:33:39 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 20:33:39 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 20:33:39 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5933 ms
20-11-2021 20:33:39 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 20:33:40 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 20:33:40 INFO liquibase.database [main] Set default schema name to public
20-11-2021 20:33:40 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 20:33:42 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 20:33:42 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 20:33:42 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 20:33:42 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 20:33:42 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 20:33:42 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 20:33:44 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 20:33:44 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:33:45 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 20:33:47 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 20:33:48 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e1fd34b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2910c3ae, org.springframework.security.web.header.HeaderWriterFilter@6a271c2b, org.springframework.web.filter.CorsFilter@46bc9802, org.springframework.security.web.authentication.logout.LogoutFilter@4b1339bf, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@4057eb76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3744c760, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e5337d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43f81c74, org.springframework.security.web.session.SessionManagementFilter@6c633590, org.springframework.security.web.access.ExceptionTranslationFilter@36b5dbdf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57e351a]
20-11-2021 20:33:48 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 20:33:48 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 20:33:48 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 20:33:48 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 20:33:48 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 20:33:49 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 20:33:49 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 20:33:49 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 20:33:49 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 16.898 seconds (JVM running for 20.543)
20-11-2021 20:33:51 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 20:33:51 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 20:33:51 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
20-11-2021 20:33:52 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:33:52 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:33:52 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 491 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:33:52 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:33:52 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 52 ms and returned: ArrayList with size of: 1
20-11-2021 20:33:52 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 655 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@ab0a2bf
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 5 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 10 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:33:53 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:33:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:33:55 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository finished method: save in 106 ms and returned: BaseEntity(id=7, businessId=DIE001, version=0, creationDate=2021-11-20T20:33:54.934384800+01:00, modificationDate=2021-11-20T20:33:54.934384800+01:00)
20-11-2021 20:33:55 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:33:55 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:33:55 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:33:55 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:36:40 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:36:40 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 20:36:40 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 20:36:49 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 22092 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 20:36:49 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 20:36:49 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 20:36:51 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 20:36:51 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 209 ms. Found 9 JPA repository interfaces.
20-11-2021 20:36:52 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
20-11-2021 20:36:52 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 20:36:52 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 20:36:52 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 20:36:52 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 20:36:52 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 20:36:52 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2849 ms
20-11-2021 20:36:53 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 20:36:53 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 20:36:53 INFO liquibase.database [main] Set default schema name to public
20-11-2021 20:36:53 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 20:36:54 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 20:36:54 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 20:36:54 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 20:36:55 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 20:36:55 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 20:36:55 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 20:36:56 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 20:36:56 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:36:57 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 20:36:59 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 20:36:59 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46bc9802, org.springframework.security.web.context.SecurityContextPersistenceFilter@2182ebc7, org.springframework.security.web.header.HeaderWriterFilter@106c4a72, org.springframework.web.filter.CorsFilter@43f81c74, org.springframework.security.web.authentication.logout.LogoutFilter@46f43f50, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@20834c45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cb4fc46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ab40f46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23d030b1, org.springframework.security.web.session.SessionManagementFilter@c5dc3db, org.springframework.security.web.access.ExceptionTranslationFilter@3f35d13d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b2c513e]
20-11-2021 20:37:00 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 20:37:00 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 20:37:00 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 20:37:00 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 20:37:00 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 20:37:01 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 20:37:01 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 20:37:01 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 20:37:01 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 12.163 seconds (JVM running for 15.237)
20-11-2021 20:37:07 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 20:37:07 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 20:37:07 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
20-11-2021 20:37:07 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:37:07 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:37:07 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 297 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:37:07 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:37:07 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 29 ms and returned: ArrayList with size of: 1
20-11-2021 20:37:07 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 388 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@21c18450
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 3 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 8 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:08 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:09 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository finished method: save in 205 ms and returned: BaseEntity(id=8, businessId=DIE001, version=0, creationDate=2021-11-20T20:37:10.005407900+01:00, modificationDate=2021-11-20T20:37:10.005407900+01:00)
20-11-2021 20:37:10 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 0 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:10 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:37:11 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-1] SQL Error: 0, SQLState: 23505
20-11-2021 20:37:11 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-1] ERROR: duplicate key value violates unique constraint "diet_number_key"
  Szczegóły: Key (number)=(DIE001) already exists.
20-11-2021 20:37:11 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DataIntegrityViolationException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; SQL [n/a]; constraint [diet_number_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
20-11-2021 20:37:11 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DataIntegrityViolationException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; SQL [n/a]; constraint [diet_number_key]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 0 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 1 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:11 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 3 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:11 ERROR org.hibernate.AssertionFailure [http-nio-8080-exec-1] HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in pl.lodz.p.it.repositoryhibernate.entity.DietEntity entry (don't flush the Session after an exception occurs)
org.hibernate.AssertionFailure: null id in pl.lodz.p.it.repositoryhibernate.entity.DietEntity entry (don't flush the Session after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:76)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:203)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:162)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:50)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1327)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1407)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:396)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy184.findAll(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy184.findAll(Unknown Source)
	at pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:56)
	at pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25)
	at pl.lodz.p.it.core.application.secondary.service.DietRepositoryService$$FastClassBySpringCGLIB$$d5d33fb9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at pl.lodz.p.it.gymbackend.logging.LoggingAspect.logExit(LoggingAspect.java:132)
	at pl.lodz.p.it.gymbackend.logging.LoggingAspect.logMethods(LoggingAspect.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:93)
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:329)
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:209)
	at org.springframework.retry.interceptor.RetryOperationsInterceptor.invoke(RetryOperationsInterceptor.java:119)
	at org.springframework.retry.annotation.AnnotationAwareRetryOperationsInterceptor.invoke(AnnotationAwareRetryOperationsInterceptor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.secondary.service.DietRepositoryService$$EnhancerBySpringCGLIB$$7db74a3e.save(<generated>)
	at pl.lodz.p.it.core.application.primary.service.BaseService.save(BaseService.java:39)
	at pl.lodz.p.it.core.application.primary.service.BaseService$$FastClassBySpringCGLIB$$f4c29934.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at pl.lodz.p.it.gymbackend.logging.LoggingAspect.logExit(LoggingAspect.java:132)
	at pl.lodz.p.it.gymbackend.logging.LoggingAspect.logMethods(LoggingAspect.java:85)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.core.application.primary.service.DietService$$EnhancerBySpringCGLIB$$e5f79b75.save(<generated>)
	at pl.lodz.p.it.restapi.controllerImplementation.DietController.createDiet(DietController.java:46)
	at pl.lodz.p.it.restapi.controllerImplementation.DietController$$FastClassBySpringCGLIB$$f6595da6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at pl.lodz.p.it.gymbackend.logging.LoggingAspect.logExitController(LoggingAspect.java:148)
	at pl.lodz.p.it.gymbackend.logging.LoggingAspect.logControllerMethods(LoggingAspect.java:102)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.restapi.controllerImplementation.DietController$$EnhancerBySpringCGLIB$$e2a98be4.createDiet(<generated>)
	at pl.lodz.p.it.restapi.controller.DietsApi.createDiet(DietsApi.java:47)
	at pl.lodz.p.it.restapi.controller.DietsApi$$FastClassBySpringCGLIB$$cfc1d723.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at pl.lodz.p.it.restapi.controller.DietsApiController$$EnhancerBySpringCGLIB$$43a702f6.createDiet(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at pl.lodz.p.it.gymbackend.config.JWTRequestFilter.doFilterInternal(JWTRequestFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
20-11-2021 20:37:12 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:37:12 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-1] SQL Error: 0, SQLState: 25P02
20-11-2021 20:37:12 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-1] ERROR: current transaction is aborted, commands ignored until end of transaction block
20-11-2021 20:37:12 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] JpaSystemException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement
20-11-2021 20:37:12 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] JpaSystemException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement
20-11-2021 20:37:12 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] JpaSystemException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement
20-11-2021 20:37:12 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] JpaSystemException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement
20-11-2021 20:37:12 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] JpaSystemException thrown in line: org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) with message: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement
20-11-2021 20:37:26 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:37:26 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
20-11-2021 20:37:26 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
20-11-2021 20:37:39 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.6.Final
20-11-2021 20:37:39 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Starting GymBackendApplication using Java 11.0.11 on LAPTOP-9U07OP1D with PID 31368 (C:\Users\a822292\Gym\service-starter\target\classes started by a822292 in C:\Users\a822292\Gym)
20-11-2021 20:37:39 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] No active profile set, falling back to default profiles: default
20-11-2021 20:37:40 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
20-11-2021 20:37:41 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 264 ms. Found 9 JPA repository interfaces.
20-11-2021 20:37:41 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
20-11-2021 20:37:42 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
20-11-2021 20:37:42 INFO org.apache.coyote.http11.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8080"]
20-11-2021 20:37:42 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
20-11-2021 20:37:42 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.52]
20-11-2021 20:37:42 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
20-11-2021 20:37:42 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3614 ms
20-11-2021 20:37:43 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
20-11-2021 20:37:43 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
20-11-2021 20:37:43 INFO liquibase.database [main] Set default schema name to public
20-11-2021 20:37:44 INFO liquibase.lockservice [main] Successfully acquired change log lock
20-11-2021 20:37:45 INFO liquibase.changelog [main] Reading from public.databasechangelog
20-11-2021 20:37:45 INFO liquibase.lockservice [main] Successfully released change log lock
20-11-2021 20:37:45 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
20-11-2021 20:37:45 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.32.Final
20-11-2021 20:37:45 INFO org.hibernate.annotations.common.Version [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
20-11-2021 20:37:46 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect
20-11-2021 20:37:47 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
20-11-2021 20:37:48 INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
20-11-2021 20:37:49 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
20-11-2021 20:37:50 INFO springfox.documentation.spring.web.PropertySourcedRequestMappingHandlerMapping [main] Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
20-11-2021 20:37:50 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cf7ada5, org.springframework.security.web.context.SecurityContextPersistenceFilter@64b6d6dd, org.springframework.security.web.header.HeaderWriterFilter@222557fc, org.springframework.web.filter.CorsFilter@14c6d1b7, org.springframework.security.web.authentication.logout.LogoutFilter@5af7a7, pl.lodz.p.it.gymbackend.config.JWTRequestFilter@36afd06f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7740028a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@447cdbaa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c2cc406, org.springframework.security.web.session.SessionManagementFilter@3744c760, org.springframework.security.web.access.ExceptionTranslationFilter@988eae9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23d030b1]
20-11-2021 20:37:51 INFO org.apache.coyote.http11.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8080"]
20-11-2021 20:37:51 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
20-11-2021 20:37:51 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Context refreshed
20-11-2021 20:37:51 INFO springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper [main] Found 1 custom documentation plugin(s)
20-11-2021 20:37:51 INFO springfox.documentation.spring.web.scanners.ApiListingReferenceScanner [main] Scanning for api listing references
20-11-2021 20:37:51 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteDiet_1
20-11-2021 20:37:51 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: openapiJsonUsingGET_1
20-11-2021 20:37:51 INFO springfox.documentation.spring.web.readers.operation.CachingOperationNameGenerator [main] Generating unique operation named: deleteTrainingPlan_1
20-11-2021 20:37:51 INFO pl.lodz.p.it.gymbackend.servicestarter.GymBackendApplication [main] Started GymBackendApplication in 14.017 seconds (JVM running for 17.39)
20-11-2021 20:37:54 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
20-11-2021 20:37:54 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
20-11-2021 20:37:54 INFO org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService invoked method: loadUserByUsername with args: {username=arturro}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=arturro}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 335 ms and returned: Optional[AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])]
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository invoked method: findByAccount with args: {accountEntity=AccountEntity(email=art.daj@wp.pl, active=true, confirmed=true, firstName=Artur, lastName=Arturowy, phoneNumber=987654321, language=pl, modifiedBy=null, lastKnownGoodLogin=null, lastKnownGoodLoginIp=null, lastKnownBadLogin=null, lastKnownBadLoginIp=null, badLoginsCounter=0, loyaltyFactor=1.0, gymMember=true, trainingPlans=[], diets=[])}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccessLevelRepository finished method: findByAccount in 29 ms and returned: ArrayList with size of: 1
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class AccountRepositoryService finished method: loadUserByUsername in 420 ms and returned: pl.lodz.p.it.core.domain.UserPrincipal@3b0c0f5d
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietController invoked method: createDiet with args: {dietRequestPost=class DietRequestPost {
    number: DIE001
    name: Zbilansowana
    dietType: LOW-CALORIE
    calories: 1500
    mealsNumber: 5
    price: 1200
}}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseService invoked method: save with args: {t=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepositoryService invoked method: save with args: {diet=Diet(number=DIE001, name=Zbilansowana, dietType=DietType(name=LOW-CALORIE), calories=1500, mealsNumber=5, price=1200.0)}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository invoked method: instantiate with args: {}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class DietRepository finished method: instantiate in 4 ms and returned: BaseEntity(id=null, businessId=null, version=null, creationDate=null, modificationDate=null)
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:54 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 10 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:55 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository invoked method: findByBusinessId with args: {businessId=LOW-CALORIE}
20-11-2021 20:37:55 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class BaseRepository finished method: findByBusinessId in 2 ms and returned: Optional[DietTypeEntity()]
20-11-2021 20:37:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository invoked method: save with args: {arg0=BaseEntity(id=null, businessId=DIE001, version=null, creationDate=null, modificationDate=null)}
20-11-2021 20:37:56 INFO pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] Class CrudRepository finished method: save in 163 ms and returned: BaseEntity(id=10, businessId=DIE001, version=0, creationDate=2021-11-20T20:37:56.521808200+01:00, modificationDate=2021-11-20T20:37:56.521808200+01:00)
20-11-2021 20:37:56 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:37:56 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:37:56 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
20-11-2021 20:37:56 ERROR pl.lodz.p.it.gymbackend.logging.LoggingAspect [http-nio-8080-exec-1] DietException thrown in line: pl.lodz.p.it.core.application.secondary.service.DietRepositoryService.save(DietRepositoryService.java:25) with message: pl.lodz.p.it.core.shared.exception.core.ConflictException: Diet is being used!
